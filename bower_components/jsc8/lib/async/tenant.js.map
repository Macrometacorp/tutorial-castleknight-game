{"version":3,"file":"tenant.js","sourceRoot":"","sources":["../../src/tenant.ts"],"names":[],"mappings":";;AAEA;IAMI,YAAY,UAAsB,EAAE,KAAa,EAAE,UAAmB;QAClE,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;QAC9B,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,YAAY,CAAC,MAAc,EAAE,QAAgB,EAAE,EAAE,SAAiB,EAAE;QAChE,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAC3B;YACI,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,SAAS;YACf,YAAY,EAAE,IAAI;YAClB,IAAI,EAAE;gBACF,MAAM;gBACN,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,MAAM;gBACN,KAAK;aACR;SACJ,EACD,GAAG,CAAC,EAAE;YACF,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;YAC5B,OAAO,GAAG,CAAC,IAAI,CAAC;QACpB,CAAC,CACJ,CAAC;IACN,CAAC;IAED,UAAU;QACN,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAC3B;YACI,MAAM,EAAE,QAAQ;YAChB,IAAI,EAAE,WAAW,IAAI,CAAC,IAAI,EAAE;YAC5B,YAAY,EAAE,IAAI;SACrB,EACD,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAClB,CAAC;IACN,CAAC;IAED,sBAAsB;QAClB,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAC3B;YACI,MAAM,EAAE,KAAK;YACb,IAAI,EAAE,uBAAuB,IAAI,CAAC,IAAI,EAAE;YACxC,YAAY,EAAE,IAAI;SACrB,EACD,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAClB,CAAA;IACL,CAAC;IAED,aAAa;QACT,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAC3B;YACI,MAAM,EAAE,KAAK;YACb,IAAI,EAAE,WAAW,IAAI,CAAC,IAAI,EAAE;YAC5B,YAAY,EAAE,IAAI;SACrB,EACD,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAClB,CAAC;IACN,CAAC;IAED,YAAY,CAAC,MAAc,EAAE,KAAc;QACvC,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAC3B;YACI,MAAM,EAAE,OAAO;YACf,IAAI,EAAE,WAAW,IAAI,CAAC,IAAI,EAAE;YAC5B,YAAY,EAAE,IAAI;YAClB,IAAI,EAAE;gBACF,KAAK;gBACL,MAAM;aACT;SACJ,EACD,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAClB,CAAC;IACN,CAAC;CACJ;AA/ED,wBA+EC","sourcesContent":["import { Connection } from \"./connection\";\n\nexport class Tenant {\n\n    _connection: Connection;\n    name?: string;\n    email: string;\n\n    constructor(connection: Connection, email: string, tenantName?: string) {\n        this._connection = connection;\n        this.name = tenantName;\n        this.email = email;\n    }\n\n    createTenant(passwd: string, extra: object = {}, dcList: string = \"\") {\n        return this._connection.request(\n            {\n                method: \"POST\",\n                path: \"/tenant\",\n                absolutePath: true,\n                body: {\n                    dcList,\n                    email: this.email,\n                    passwd,\n                    extra\n                }\n            },\n            res => {\n                this.name = res.body.tenant;\n                return res.body;\n            }\n        );\n    }\n\n    dropTenant() {\n        return this._connection.request(\n            {\n                method: \"DELETE\",\n                path: `/tenant/${this.name}`,\n                absolutePath: true\n            },\n            res => res.body\n        );\n    }\n\n    getTenantEdgeLocations() {\n        return this._connection.request(\n            {\n                method: \"GET\",\n                path: `/datacenter/_tenant/${this.name}`,\n                absolutePath: true\n            },\n            res => res.body\n        )\n    }\n\n    tenantDetails() {\n        return this._connection.request(\n            {\n                method: \"GET\",\n                path: `/tenant/${this.name}`,\n                absolutePath: true\n            },\n            res => res.body\n        );\n    }\n\n    modifyTenant(passwd: string, extra?: object) {\n        return this._connection.request(\n            {\n                method: \"PATCH\",\n                path: `/tenant/${this.name}`,\n                absolutePath: true,\n                body: {\n                    extra,\n                    passwd\n                }\n            },\n            res => res.body\n        );\n    }\n}"]}