{"version":3,"file":"pipeline.js","sourceRoot":"","sources":["../../src/pipeline.ts"],"names":[],"mappings":";;AAEA;IAKI,YAAY,UAAsB,EAAE,YAAoB;QACpD,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;QAC9B,IAAI,CAAC,IAAI,GAAG,YAAY,CAAC;IAC7B,CAAC;IAED,MAAM,CAAC,OAAsB,EAAE,UAAmB,IAAI,EAAE,SAAiB,EAAE;QACvE,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAC3B;YACI,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,WAAW;YACjB,IAAI,EAAE;gBACF,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,OAAO;gBACP,OAAO;gBACP,MAAM;aACT;SACJ,EACD,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAClB,CAAC;IACN,CAAC;IAED,IAAI;QACA,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAC3B;YACI,MAAM,EAAE,QAAQ;YAChB,IAAI,EAAE,aAAa,IAAI,CAAC,IAAI,EAAE;SACjC,EACD,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAClB,CAAC;IACN,CAAC;IAED,OAAO;QACH,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAC3B;YACI,MAAM,EAAE,KAAK;YACb,IAAI,EAAE,aAAa,IAAI,CAAC,IAAI,EAAE;SACjC,EACD,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAClB,CAAC;IACN,CAAC;IAED,MAAM,CAAC,OAAsB,EAAE,UAAmB,IAAI,EAAE,SAAiB,EAAE;QACvE,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAC3B;YACI,MAAM,EAAE,KAAK;YACb,IAAI,EAAE,aAAa,IAAI,CAAC,IAAI,EAAE;YAC9B,IAAI,EAAE;gBACF,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,OAAO;gBACP,OAAO;gBACP,MAAM;aACT;SACJ,EACD,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAClB,CAAC;IACN,CAAC;CACJ;AA7DD,4BA6DC","sourcesContent":["import { Connection } from \"./connection\";\n\nexport class Pipeline {\n\n    _connection: Connection;\n    name: string;\n\n    constructor(connection: Connection, pipelineName: string) {\n        this._connection = connection;\n        this.name = pipelineName;\n    }\n\n    create(regions: Array<string>, enabled: boolean = true, config: object = {}) {\n        return this._connection.request(\n            {\n                method: \"POST\",\n                path: \"/pipeline\",\n                body: {\n                    name: this.name,\n                    regions,\n                    enabled,\n                    config,\n                }\n            },\n            res => res.body\n        );\n    }\n\n    drop() {\n        return this._connection.request(\n            {\n                method: \"DELETE\",\n                path: `/pipeline/${this.name}`,\n            },\n            res => res.body\n        );\n    }\n\n    details() {\n        return this._connection.request(\n            {\n                method: \"GET\",\n                path: `/pipeline/${this.name}`,\n            },\n            res => res.body\n        );\n    }\n\n    update(regions: Array<string>, enabled: boolean = true, config: object = {}) {\n        return this._connection.request(\n            {\n                method: \"PUT\",\n                path: `/pipeline/${this.name}`,\n                body: {\n                    name: this.name,\n                    regions,\n                    enabled,\n                    config,\n                }\n            },\n            res => res.body\n        );\n    }\n}"]}